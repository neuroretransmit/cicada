if(!UE){var UE={}}if(!UE.Util){UE.Util={render:function(a,b){return a.replace(/\#{([^{}]*)}/g,function(d,c){var e=b[c];return typeof e==="string"||typeof e==="number"?e:d})},toQueryString:function(b){var a=[];for(key in b){if(b[key]!=null&&b[key]!=""){a.push([key,b[key]].join("="))}}return a.join("&")},getPageDims:function(){var c=document.documentElement;var b=window.innerWidth||self.innerWidth||(c&&c.clientWidth)||document.body.clientWidth;var a=window.innerHeight||self.innerHeight||(c&&c.clientHeight)||document.body.clientHeight;return{width:b,height:a}},getCDN:function(){var a=(("https:"==document.location.protocol)?"https://":"http://");return a+"cdn.userecho.com"},getIEVersion:function(){var c=-1;if(navigator.appName=="Microsoft Internet Explorer"){var a=navigator.userAgent;var b=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");if(b.exec(a)!=null){c=parseFloat(RegExp.$1)}}return c}}}UE.Dialog={preload:function(c){if(!this.preloaded){var b=document.getElementById(c);var a=(b==null)?c:b.innerHTML;this.setContent(a);this.preloaded=true}},show:function(a){if(!this.preloaded){this.preload(a)}this.Overlay.show();this.setPosition();UE.Element.addClassName(this.htmlElement(),"dlg-open");this.element().style.display="block";this.preloaded=false},close:function(){this.element().style.display="none";UE.Element.removeClassName(this.htmlElement(),"dlg-open");this.Overlay.hide()},id:"ue-dlg",css_template:"    #ue-dlg {      z-index: 100003;      display: block;      text-align: left;      margin: -2em auto 0 auto;      position: absolute;       background-color: transparent;      }        #ue-overlay {      position: absolute;      z-index:100002;      width: 100%;      height: 100%;      left: 0;      top: 0;      background-color: #000;      opacity: .5;     filter: alpha(opacity=50);    }        #ue-dlg[id],    #ue-overlay[id] {     position:fixed;    }        #ue-overlay p {      padding: 5px;      color: #ddd;      font: bold 14px arial, sans-serif;      margin: 0;      letter-spacing: -1px;    }        #ue-dlg #ue-dlg-close {      position: absolute;      height: 32px;      width: 32px;      top: 6px;      right: 6px;      color: #06c;      cursor: pointer;      background-position: 0 0;      background-repeat: no-repeat;      background-color: transparent;      z-index: 100005 !important;      border: 0px !important;    }        * html.dlg-open body {      height: 100%;    }        * html.dlg-open,    * html.dlg-open body {      overflow: hidden;    }        html.dlg-open object,    html.dlg-open embed,    * html.dlg-open select {      visibility: hidden;    }        * html #ue-overlay {      width: 110%;    }        * html #ue-dlg #ue-dlg-close {      background: none;      filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='#{background_image_url}');    }      a#ue-dlg-close { background-image: url(#{background_image_url}); }",element:function(){if(!document.getElementById(this.id)){var a=document.createElement("div");a.innerHTML='<div id="'+this.id+'" class="ue-component" style="display:none;"><a href="#" onclick="UE.Dialog.close(); return false;" id="'+this.id+'-close"><span style="display: none;">Close</span></a><div id="'+this.id+'-content"></div></div>';document.body.appendChild(a.firstChild)}return document.getElementById(this.id)},setContent:function(a){this.element();if(typeof(Prototype)!="undefined"){document.getElementById(this.id+"-content").innerHTML=a.stripScripts();setTimeout(function(){a.evalScripts()},100)}else{document.getElementById(this.id+"-content").innerHTML=a}},setPosition:function(){var c=UE.Element.getDims(this.element());var b=UE.Util.getPageDims();var a=this.element().style;a.width="auto";a.height="auto";a.left=((b.width-c.width)/2)+"px";a.top=((b.height-c.height)<80?40:((b.height-c.height)/2))+"px"},htmlElement:function(){return document.getElementsByTagName("html")[0]}};UE.Dialog.Overlay={show:function(){this.element().style.display="block"},hide:function(){this.element().style.display="none"},id:"ue-overlay",element:function(){if(!document.getElementById(this.id)){var a=document.createElement("div");a.innerHTML='<div id="'+this.id+'" class="ue-component" onclick="UE.Dialog.close(); return false;" style="display:none;"></div>';document.body.appendChild(a.firstChild)}return document.getElementById(this.id)}};UE.Element={getDims:function(c){var g=c.display;if(g!="none"&&g!=null){return{width:c.offsetWidth,height:c.offsetHeight}}var b=c.style;var f=b.visibility;var d=b.position;var a=b.display;b.visibility="hidden";b.position="absolute";b.display="block";var h=c.clientWidth;var e=c.clientHeight;b.display=a;b.position=d;b.visibility=f;return{width:h,height:e}},hasClassName:function(a,b){var c=a.className;return(c.length>0&&(c==b||new RegExp("(^|\\s)"+b+"(\\s|$)").test(c)))},addClassName:function(a,b){if(!this.hasClassName(a,b)){a.className+=(a.className?" ":"")+b}return a},removeClassName:function(a,b){a.className=a.className.replace(new RegExp("(^|\\s+)"+b+"(\\s+|$)")," ");return a}};var content=document.createElement("span");content.innerHTML='<span style="display:none;">fix</span><style type="text/css">'+UE.Util.render(UE.Dialog.css_template,{background_image_url:UE.Util.getCDN()+"/images/close.png"})+"</style>";var _s=document.getElementsByTagName("body")[0].firstChild;_s.parentNode.insertBefore(content,_s);UE.Popin={content_template:'<iframe src="#{url}/widgets/#{dialog}/#{forum}/?#{query}" frameborder="0" scrolling="no" allowtransparency="true" width="#{width}" height="#{height}" style="height: #{height}; width: #{width}; background-color: transparent;"></iframe>',setup:function(a){this.setupOptions(a||{})},preload:function(){UE.Dialog.preload(UE.Util.render(this.content_template,this.options))},show:function(){UE.Dialog.show(UE.Util.render(this.content_template,this.options))},setupOptions:function(a){if(a.mode=="simple"){this.options={dialog:"popin",width:"420px",height:"600px",lang:"en",params:{}}}else{this.options={dialog:"popin_extended",width:"440px",height:"600px",lang:"en",params:{}}}for(attr in a){this.options[attr]=a[attr]}this.options.url=this.url();this.options.params.lang=this.options.lang;this.options.params.referer=this.getReferer();this.options.query=UE.Util.toQueryString(this.options.params)},getReferer:function(){var a=window.location.href;if(a.indexOf("?")!=-1){a=a.substring(0,a.indexOf("?"))}return a},url:function(){return((("https:"==document.location.protocol)&&!this.options.no_dialog)?"https://userecho.com":"http://"+this.options.host)}};UE.Widget={id:"ue-feedback-tab",css_template:"    a##{id} {        position: fixed !important;        top: #{tab_top} !important;        #{tab_alignment}: 0;        background-color: #{tab_bg_color};         z-index: 100001 !important;                border-top: solid 2px white;        border-#{tab_alignment}: medium 0px -moz-use-text-color;        border-bottom: solid 2px white;        border-#{tab_alignment2}: solid 2px white;                border-radius: #{tab_corner_radius}px;        border-top-#{tab_alignment}-radius: 0;        border-bottom-#{tab_alignment}-radius: 0;                -moz-border-radius: #{tab_corner_radius}px;        -moz-border-radius-top#{tab_alignment}: 0;        -moz-border-radius-bottom#{tab_alignment}: 0;                -webkit-border-radius: #{tab_corner_radius}px;        -webkit-border-top-#{tab_alignment}-radius: 0;        -webkit-border-bottom-#{tab_alignment}-radius: 0;                background-image: none !important;    }        a##{id} img {        padding: 6px 2px 6px 0px;        border: 0px !important;        margin: 0px 0px 0px 0px;    }        a##{id}:hover {        background-color: #{tab_hover_color};        padding-#{tab_alignment}:2px;        cursor: pointer;    }        * html a##{id} {        position: absolute !important;        background-image: none !important;    }    ",init:function(c){this.setupOptions(c||{});UE.Popin.setup(c);var d='<a id="'+this.id+'"';if(!this.options.no_dialog){d+='" onclick="UE.Popin.show(); return false;"';if(this.options.preload){d+='" onmouseover="UE.Popin.preload();"'}}else{d+='" target="_blank"'}if(this.options.no_dialog){q=UE.Util.toQueryString(this.options.params);d+=' href="'+UE.Popin.url()+(q?("?"+q):"")+'">'}else{d+=' href="#">'}d+='<img src="'+this.options.tab_img_src+'"/></a>';if(this.options.tab_show){var f=document.createElement("span");var b="";if(!this.options.no_styles){b='<style type="text/css">'+UE.Util.render(this.css_template,this.options)+"</style>"}f.innerHTML=d+b;var g=document.getElementsByTagName("body")[0].firstChild;g.parentNode.insertBefore(f,g);if(UE.Util.getIEVersion()==6){var e=document.getElementById("ue-feedback-tab");var a=e.firstChild;e.style.padding="4px";a.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+a.src+"')";a.src=UE.Util.getCDN()+"/images/x.gif"}}},setupOptions:function(a){this.options={lang:"en",no_styles:false,no_dialog:false,preload:true,tab_show:true,tab_alignment:"left",tab_bg_color:"#f00",tab_text_color:"#FFFFFF",tab_hover_color:"#06C",tab_top:"35%",tab_label:"",tab_image_hash:"",tab_icon_show:true,tab_corner_radius:10,tab_font_size:16,tab_img_src:"",mode:"advanced"};for(attr in a){this.options[attr]=a[attr]}if(this.options.tab_show){if(this.options.tab_alignment=="right"){this.options.tab_alignment2="left"}else{this.options.tab_alignment="left";this.options.tab_alignment2="right"}if(!this.options.tab_img_src){if(this.options.tab_text_color=="white"){this.options.tab_text_color="#FFFFFF"}else{if(this.options.tab_text_color=="black"){this.options.tab_text_color="#000000"}}if(this.options.tab_font_size<10||this.options.tab_font_size>30){this.options.tab_font_size=16}if(this.options.tab_image_hash==""){word_hash_arr={ru:"0J7RgdGC0LDQstC40YLRjCDQvtGC0LfRi9Cy",de:"RmVlZGJhY2s%3D",es:"Q29tZW50YXJpb3M%3D",is:"VmnDsGJyw7Znw7A%3D"};this.options.tab_image_hash=word_hash_arr[this.options.lang]?word_hash_arr[this.options.lang]:"RmVlZGJhY2s%3D"}var b=(this.options.tab_icon_show?"1":"0")+this.options.tab_font_size+(this.options.tab_text_color.substring(0,1)=="#"?this.options.tab_text_color.substring(1):this.options.tab_text_color);this.options.tab_img_src=UE.Util.getCDN()+"/tabs/"+b+"/"+this.options.tab_image_hash}}this.options.id=this.id}};UE.Widget.init(_ues);